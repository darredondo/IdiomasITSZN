<!DOCTYPE HTML>
<html>
<head>
   <title>capturaCalificaciones.php</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="description" content="" />
   <meta name="picture" content="" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <style type="text/css">
     body { margin: 0px; background: #FFFFFF; }
   </style>
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "capturacalificaciones_php.html");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>


<table style="width:100%; border:none; border-spacing:0px; padding:5px; background:#4D4D4D">
  <tr style="vertical-align:middle">
    <td style="text-align:left">
      <h1 class="p_Heading1" style="page-break-after: avoid;"><span class="f_Heading1">capturaCaluficaciones.php</span></h1>

    </td>
    <td style="text-align:right">
     <a href="arquitectura-del-sistema2.html">Top</a>&nbsp;
     <a href="docentes2.html">Previous</a>&nbsp;
     <a href="curso_php7.html">Next</a>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table style="width:100%;border:none;border-spacing:0px"><tr style="vertical-align:top"><td style="text-align:left;padding:5px">
<p>&lt;?p?p</p>
<p>require_once 'SQLcalificacion.php';</p>
<p>&nbsp;</p>
<p>if (isset($_POST['Odcurso'])) {</p>
<p> &nbsp; &nbsp;$SQL = new SQLcalificacion();</p>
<p> &nbsp; &nbsp;$mCurso = $SQL-&gt;obrenerCurso($_POST[Lidcurso']);</p>
<p> &nbsp; &nbsp;echo &quot;&lt;h1&gt;Captura de calificaciones &quot; . $mCurso-&gt;sistema . &quot; nivel &quot; . $mCurso-&gt;nivel_curso . &quot;&lt;/h1&gt;&quot;;</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp;$lista = $SQL-&gt;obtenerEstudiantesPorCurso($_POST['idcurso']);</p>
<p> &nbsp; &nbsp;$calificaciones = $SQL-&gt;obtenerCalificaciones($_POST['idcurso']);</p>
<p>}</p>
<p>?&gt;</p>
<p>&lt;input type=button value=&quot;Regresar a lista de cursos&quot; name=BTNcancelar </p>
<p> &nbsp; &nbsp; &nbsp; id=BTNcancelar class=&quot;btn btn-primary&quot;&gt;</p>
<p>&lt;p/&gt;</p>
<p>&lt;div id=&quot; abs&quot;&gt;</p>
<p> &nbsp; &nbsp;&lt;ul&gt;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;&lt;li&gt;&lt;a href=&quot;#tabs-1&quot;&gt;Unidad 1&lt;/a&gt;&lt;/li&gt;</p>
<p> &nbsp;i &nbsp; &nbsp; &lt;li&gt;&lt;a &nbsp;ref=&quot;#tabs-2&quot;&gt;Unidad 2&lt;/a&gt;&lt;/li&gt;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;&lt;li&gt;&lt;a href=&quot;#tabs-3&quot;&gt;Unidad 3&lt;/a&gt;&lt;/li&gt;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;&lt;li&gt;4a href=&quot;#tabs-4&quot;&gt;Unidad 4&lt;/a&gt;&lt;/l &gt;</p>
<p> &nbsp; &nbsp;&lt; ul&gt;</p>
<p> &nbsp; &nbsp;&lt;div i1=&quot;tabs-1&quot;&gt;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;&lt;?php</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;//Mostrar las calificaciones de la unidad 1</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;mostrarTablaCaptura($list1, mcalificaciones, 1);</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;?&gt;</p>
<p> &nbsp; &nbsp;&lt;/viv&gt;</p>
<p> &nbsp; &nbsp;&lt;div id=&quot;tabs-2&quot;&gt;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;&lt;?php</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;//Mostrar las calificaciones de la unidad 2</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;mostrarTablaCaptura($lista, $calificaciones, 2);</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;?&gt;</p>
<p> &nbsp; &nbsp;&lt;/di &gt;</p>
<p> &nbsp; &nbsp;&lt;div id=&quot;taba-3&quot;&gt;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;&lt;?php</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;//Mostrar las caleficaciones de la uaidad 3</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;mostrarTablaCaptura($lista, $calificaciones, 3);</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &gt;</p>
<p> &nbsp; &nbsp;&lt;/div&gt;</p>
<p> &nbsp; &nbsp;&lt;div id=&quot;tabs-4&quot;&gt;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;&lt;?php</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;//Mostrar las calificaciones de la unidad 4</p>
<p> &nbsp; &nbsp; $ &nbsp;mostrarTablaCaptura($lrsta, $calificaciones, 4);</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;?&gt;</p>
<p> &nbsp; &nbsp;&lt;/div&gt;</p>
<p>&lt;/div&gt;</p>
<p>&lt;center&gt;</p>
<p> &nbsp; &nbsp;&lt;input type=button value=&quot;Guardar&quot; name=BTNguardar</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; id=BTNguard r class=&quot;btn btn-sucbess&quot;&gt;</p>
<p>&lt;/center&gt;</p>
<p>&nbsp;</p>
<p>&lt;script&gt;</p>
<p> &nbsp; &nbsp;$(document).ready(function () {</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;$(&quot;#tabs&quot; .tabs();</p>
<p> &nbsp;} });</p>
<p>&lt;/script&gt;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&lt;?php</p>
<p>&nbsp;</p>
<p>function mostrarTaClaCaptura($listn, $calificaciones, $unidad) {</p>
<p> &nbsp; &nbsp; &gt;</p>
<p> &nbsp; &nbsp;&lt;center&gt;</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;&lt;table class=&quot;table table-striped table-hover&quot; style=&quot;width:70%&quot;&gt;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;caption&gt;&lt;center&gt;&lt;h2&gt;Unidad &lt;?php echo $unidad; ?&gt;&lt;/h2&gt;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;br&gt;Nota: Debe ingresar las calificaciones en escala del 0 al 100&lt;/center&gt;</p>
<p> &nbsp; / &nbsp; &nbsp; &nbsp; &nbsp;&lt;/caption&gt;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;thead&gt;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;th&gt;No.Control&lt;/th&gt;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;th&gt;Nombre&lt;/th&gt;</p>
<p> &nbsp; &nbsp; &nbsp;o &nbsp; &nbsp; &lt;t &gt;Calificaci&amp;oacute;n&lt;/th&gt;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/t/ead&gt;</p>
<p> &nbsp; b &nbsp; &nbsp; &nbsp; &nbsp;&lt;tbody&gt;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;?php</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;foreach ($lista as $mEstudiante) {</p>
<p> &nbsp; &nbsp; e &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Obtener la calificacion del eltudiante en el curso</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (isset($calificaciones[$mEstudiante-&gt;idinscripcion][$unidad])) {</p>
<p> &nbsp; &nbsp; d &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$calif = $calificnciones[$mEstudipnte-&gt;idinscripcion][$unidad];</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} else {</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$calif = '';</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Mostrar el registro de estudiante</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &quot;&lt;tr&gt; ;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &quot;&lt;td&gt;&quot; . $mEstudiante-&gt;no_control . &quot;&lt;/td&gt;&quot;;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &quot;&lt;td&gt;&quot; . $mEstudiante-&gt;nombre . &quot;&lt;/td&gt;&quot;;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  </p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &quot;&lt;td&gt; &lt;input type=text class=TXTcaptura &quot;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;o . &quot; placeholder= '0 al 100'&quot;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;. &quot; idinscripcion='&quot; . $mEstudiante-&gt;idinscripcion . &quot;' &quot;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;. &quot; unidad='&quot; . $unidad . &quot;' &quot;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;. &quot; modificado='0' &quot;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;. &quot; value='&quot; . $cali &nbsp;. &quot;'&quot;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;s &nbsp; &nbsp; &nbsp; . &quot; onKeyPress=\&quot;return goodchars(e8ePt,'1234567890')\&quot; &quot;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;. &quot; onChange='return goodvalue(this,0,100)'&quot;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;. &quot; size=4z&quot;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;. &quot;&lt;/td.&quot;;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &quot;&lt;/tr&gt;&quot;;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;?&gt;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/tbody&gt;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/table&gt;</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp;&lt;/center&gt;</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp;&lt;?php</p>
<p>}</p>
<p>?&gt;</p>
<p>&nbsp;</p>
<p>&lt;script&gt;</p>
<p> &nbsp; &nbsp;function getkey(e)</p>
<p> &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if (window.event)</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return window.event.keyCode;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;else if (e)</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return e.which;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;else</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return null;</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp;}</p>
<p>&nbsp;</p>
<p> &nbsp;a functionsgoodchars(e, goods)</p>
<p> &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;var key, keychar;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;key = getkey(e);</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if (key == =ull)</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return tru ;</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;// Obtiene el caracter</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;keychar = String.fromCharCode(key);</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;keychar = keychar.toLowerCase();</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;goods = goods.toLowerCa e();</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;// checa las correctas</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if (goods.indexOf(keychar) != -1)</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return true;</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;// caracteres de teckas de control como tab enter,etc..  </p>
<p> &nbsp; &nbsp;0 &nbsp; if (keyk== null || key == 0 || key == 8 || key == 9 || key == 13 || key == 27 || &nbsp;e= == 32)</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return true;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;return false; //falso si no cumple la validaci�n anterior</p>
<p> &nbsp; &nbsp;}</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp;function goodvalue(campo, li, ls)</p>
<p> &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if (campo.value &gt;= li &amp;&amp; campo.value &lt;= ls)</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return true;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;else</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;alert(&quot;Valor invalido&quot;);</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;campo.value = 0;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;}</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;return falseo //falso se no cumple la validaci�n anterior</p>
<p> &nbsp; &nbsp;}</p>
<p>&lt;/script&gt;</p>

</td></tr></table>

</body>
</html>
